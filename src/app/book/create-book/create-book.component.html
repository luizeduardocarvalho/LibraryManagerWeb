<div *ngIf="isLoading" class="page-loader">
  <div class="loader"></div>
</div>
<div class="page-header">
  <div class="back-arrow">
    <a (click)="onBack()">
      <mdb-icon fas icon="arrow-left"></mdb-icon>
    </a>
  </div>
  <h1 class="bold">Add Book</h1>
</div>
<section class="form-section">
  <form [formGroup]="createForm" (ngSubmit)="onSubmit(createForm)">
    <label for="reference">Book Reference</label>
    <input
      type="text"
      id="reference"
      formControlName="reference"
      class="form-control"
      autocomplete="off"
    />
    <label for="title">Title</label>
    <input
      type="text"
      id="title"
      formControlName="title"
      class="form-control"
      autocomplete="off"
    />
    <label for="description">Description</label>
    <textarea
      type="text"
      id="description"
      formControlName="description"
      class="form-control"
    ></textarea>
    <label for="author">Author</label>
    <div class="author-select">
      <button
        *ngIf="!author"
        type="button"
        class="button button-primary"
        [disabled]="isLoadingAuthor"
        (click)="open()"
      >
      <div class="button-loader-section">
        <div *ngIf="isLoadingAuthor" class="button-loader"></div>
      </div>
      <span *ngIf="!isLoadingAuthor">Select Author</span>
      </button>
      <div *ngIf="author" class="author-name-section">
        {{ author!.name }}
        <mdb-icon
        fas
        icon="times"
        mdbTooltip="Close Modal"
        placement="top"
        (click)="clearAuthor()"
        class=""
        aria-hidden="true"
      ></mdb-icon>
      </div>
    </div>
    <div class="button-section">
      <button class="button button-clear" (click)="onClear()" type="button">
        Clear
      </button>
      <button
        class="button button-primary"
        [disabled]="!createForm.valid"
        type="submit"
      >
        Add
      </button>
    </div>
  </form>
</section>
